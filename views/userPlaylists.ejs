<!DOCTYPE html><html lang="en"><head>...<link rel="stylesheet" href="/styles/search_style.css"></head><body>
<%- include('partials/header.ejs') %>

<div class="title">
  <% if (len === 0) { %>
    Your Playlist is Empty.
  <% } else { %>
    <div class="playlist-info"><img src="<%= playlistImage || '/default.jpg' %>"><p><%= playlistName %></p><p>Total Songs: <%= len %></p></div>
  <% } %>
</div>

<div class="grid-container">
  <div class="grid-item">#</div><div class="grid-item">Song</div><div class="grid-item">Artist</div><div class="grid-item">Album</div><div class="grid-item">Duration</div><div class="grid-item">Actions</div>
  <% let i = 1; %>
  <% data.forEach((item, trackId) => { %>
    <div class="grid-item"><p><%= i++ %></p></div>
    <div class="grid-item"><p><%= item.song_name %></p></div>
    <div class="grid-item">
      <% item.artist.slice(0,2).forEach((a, idx) => { %>
        <a href="/artists/<%= encodeURIComponent(a) %>"><%= a %></a><%= idx === 0 && item.artist.length > 1 ? ', ' : '' %>
      <% }) %>
      <% if (item.artist.length > 2) { %><span>...</span><% } %>
    </div>
    <div class="grid-item"><p><%= item.album_name %></p></div>
    <div class="grid-item"><p><%= item.duration %></p></div>
    <div class="grid-item">
      <a href="https://open.spotify.com/track/<%= trackId %>"><img src="spotify-icon.svg"></a>
      <button class="del-button" data-track="<%= trackId %>" data-playlist="<%= playlistID %>">Delete</button>
    </div>
  <% }) %>
</div>

<%- include('partials/footer.ejs') %>
<script src="/js/delete-song.js"></script>
</body></html>
